<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="boarddao">
  
  	<select id="all" resultType="boarddto">
  		select * from board order by boardNO desc
  	</select>
  	
  	<select id="getBest10" resultType="boarddto">
  		select * from board where boardArea="FAQ" order by boardHit desc limit 10
  	</select>
  	 
  	 <select id="getcategoryList" parameterType="String" resultType="boarddto">
  	 	select * from board where boardCategory=#{category} order by boardNo desc
  	 </select>
 	 
 	<insert id="add" parameterType="boarddto">
 		<selectKey resultType="int" keyProperty="boardNO" order="BEFORE">
           select count(boardNO) from board
       </selectKey>
 	
		INSERT INTO board (boardNO, memberNo, boardArea, boardCategory, boardTitle, boardContent, boardFile, boardRegdate, boardHit)
		VALUES (#{boardNO}+1, #{memberNo}, #{boardArea}, #{boardCategory}, #{boardTitle}, #{boardContent}, #{boardFile}, NOW(), 0)
	</insert>
  
  </mapper>